# vget Docker Compose
#
# Image variants (choose based on your system):
#   ghcr.io/guiyumin/vget:latest      - No models, downloads on first use (~200MB)
#   ghcr.io/guiyumin/vget:full-small  - Parakeet V3 + Whisper Small for NAS <8GB RAM (~1.0GB)
#   ghcr.io/guiyumin/vget:full-medium - Parakeet V3 + Whisper Medium for 8-16GB RAM (~1.5GB)
#   ghcr.io/guiyumin/vget:full-large  - Parakeet V3 + Whisper Large Turbo for GPU/32GB+ RAM (~2.3GB)
#
# Model selection:
#   - Parakeet V3: Fast, CPU-optimized, 25 European languages
#   - Whisper: Slower but supports 99 languages including Chinese
#
# Configure via .env file or environment variables:
#   VGET_PORT=8080              # Web UI port
#   VGET_DOWNLOADS=./downloads  # Download directory
#   VGET_CONFIG=./config        # Config directory
#   TZ=Asia/Shanghai            # Timezone
#
# Example paths by NAS:
#   Synology:  /volume1/vget/downloads
#   QNAP:      /share/vget/downloads
#   Unraid:    /mnt/user/vget/downloads
#   TrueNAS:   /mnt/pool/vget/downloads

services:
  vget:
    # Change to :full-small, :full-medium, or :full-large based on your RAM/GPU
    image: ghcr.io/guiyumin/vget:latest
    container_name: vget
    restart: unless-stopped
    ports:
      - "${VGET_PORT:-8080}:8080"
    volumes:
      - ${VGET_DOWNLOADS:?Set VGET_DOWNLOADS in .env}:/home/vget/downloads
      - ${VGET_CONFIG:?Set VGET_CONFIG in .env}:/home/vget/.config/vget
    environment:
      - TZ=${TZ:-Asia/Shanghai}
